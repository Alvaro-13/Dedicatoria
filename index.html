https://alvaro-13.github.io/Dedicatoria/https://alvaro-13.github.io/Dedicatoria/    /* --- EXPLOSIONES DE BOTONES (Blast) --- */
    .heart-blast {
        position: absolute; color: #ff0000; font-size: 24px; transform: translate(-50%, -50%); 
        pointer-events: none; animation: blast-move-up 1.5s ease-out forwards; z-index: 1000;
    }
    @keyframes blast-move-up { 0% { opacity: 1; transform: translate(-50%, -50%) scale(1); } 100% { opacity: 0; transform: translate(var(--blast-x), var(--blast-y)) scale(0); } }
    .sad-blast {
        position: absolute; font-size: 24px; transform: translate(-50%, -50%); 
        pointer-events: none; animation: blast-move-down 1.5s ease-in forwards; z-index: 1000;
    }
    @keyframes blast-move-down { 0% { opacity: 1; transform: translate(-50%, -50%) scale(1); } 100% { opacity: 0; transform: translate(var(--blast-x), var(--blast-y)) scale(0); } }


    /* --- CONTENEDORES --- */
    #topmessage, .container, .modal-content {
        position: relative;
        overflow: hidden; 
    }
    #topmessage {
      margin-top: 15px; 
      font-size: 1.5em; 
      font-weight: bold; 
      color: #fff; text-shadow: 0 0 6px rgba(255,0,0,0.6);
      display: none; z-index: 2; background: rgba(0, 0, 0, 0.1); 
      padding: 10px 20px; border-radius: 15px;
    }
    #topmessage span { position: relative; z-index: 3; } 
    
    .container {
      background: rgba(0,0,0,0.1); border: 1px solid #ff0000; border-radius: 30px; 
      padding: 30px 24px 28px 24px; width: 90%; max-width: 350px; text-align: center;
      box-shadow: 0 6px 28px 0 rgba(255, 0, 0, 0.2); backdrop-filter: blur(0px); z-index: 1; margin-top: 15px;
    }
    
    /* --- OTROS ESTILOS --- */
    h1 { color: #ff0000; font-size: 1.8em; font-weight: 700; margin-bottom: 15px; text-shadow: 0 1px 8px #333; }
    p { color: #ccc; font-size: 1.2em; margin-bottom: 24px; line-height: 1.5; }
    .buttons { display: flex; justify-content: center; gap: 18px; margin-top: 20px; position: relative; }
    
    #yesbtn, #nobtn {
      padding: 10px 24px; 
      font-size: 1.1em; 
      border: 0.5px solid white; 
      border-radius: 50px;
      cursor: pointer; font-weight: 700; width: 100px;
      transition: background 0.2s, transform 0.2s, border-color 0.2s;
    }
    
    #yesbtn { 
        background: linear-gradient(90deg,#ff0000 0%,#cc0000 100%); 
        color: #fff; 
        box-shadow: 0 2px 10px rgba(255,0,0,0.4); 
    }
    #yesbtn:hover { 
        background: linear-gradient(90deg,#cc0000 0%,#ff0000 100%); 
        transform: scale(1.05); 
        border-color: #fff; 
    }
    
    #nobtn { 
        background: linear-gradient(90deg,#333 0%,#111 100%); 
        color: white; 
        box-shadow: 0 2px 10px rgba(0,0,0,0.4); 
        user-select: none; 
        pointer-events: auto; 
        position: relative; 
    }
    #nobtn:hover { 
        background: linear-gradient(90deg,#111 0%,#333 100%); 
        border-color: #fff; 
    }
    
    .bubble {
      position: absolute; background: rgba(34, 34, 34, 0.8); color: #fff;
      padding: 8px 14px; border-radius: 16px; font-size: 1.1em; font-weight: 500;
      box-shadow: 0 1px 4px rgba(255,0,0,0.25); white-space: nowrap;
      animation: floatup 2.5s ease forwards; z-index: 1000; pointer-events: none;
    }
    @keyframes floatup {
      0% { opacity: 1; transform: translate(-50%, 0); } 80% { opacity: 1; transform: translate(-50%, -50px); } 100% { opacity: 0; transform: translate(-50%, -70px); }
    }
    
    .modal-overlay {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background: #000; display: none; justify-content: center; align-items: center;
      z-index: 1000; backdrop-filter: blur(0px); animation: fadein 0.4s;
    }
    .modal-content {
      background: rgba(26, 26, 26, 0.1); border: 1px solid #ff0000; border-radius: 24px; 
      padding: 30px 24px 28px 24px; width: 90%; max-width: 350px; text-align: center; 
      box-shadow: 0 6px 28px 0 rgba(255,0,0,0.3); font-family: 'Dancing Script', cursive; 
      position: relative; color: #fff; z-index: 1001; 
    }
    #respuesta { font-size: 1.3em; color: #ff0000; margin-bottom: 20px; font-weight: bold; }
    #respuesta span { 
        /* Asegura que la animaci√≥n se aplique correctamente a los corazones dentro del div#respuesta */
        font-size: 1.2em; /* Hace los corazones un poco m√°s grandes que el texto */
    }
    .rosa-final { 
      width: 180px; height: 180px; 
      object-fit: cover; 
      margin: 0 auto; display: block; 
      border-radius: 16px; box-shadow: 0 1px 16px rgba(255,0,0,0.3);
    }
    .android-modal .modal-content {
      border-radius: 10px; background: rgba(0, 0, 0, 0.1); 
      color: #fff; font-family: 'Dancing Script', cursive; text-align: center; padding: 18px;
    }
    .android-title { font-size: 1.2em; font-weight: bold; margin-bottom: 14px; color: #ff0000; }
    @keyframes fadein { from { opacity: 0; transform: scale(0.85); } to { opacity: 1; transform: scale(1); } }
  </style>
</head>
<body>

  <div id="topmessage">
    <span></span>
  </div>

  <div class="container" id="panel">
    <h1>¬øQuieres ser mi novia?</h1>
    <p>Solo quer√≠a decirte algo que me guard√© por un tiempo. Me gustas, y cada d√≠a que te veo, me gustas un poquito m√°s. <span class="heart-icon">‚ù§Ô∏è</span></p>

    <div class="buttons">
      <button id="yesbtn">S√≠</button>
      <button id="nobtn">No</button>
    </div>
  </div>

  <div class="modal-overlay" id="modal">
    <div class="modal-content">
      <div id="respuesta">¬°Respuesta de amor!</div>
      <img src="" class="rosa-final" alt="rosa final"> 
    </div>
  </div>

  <div class="modal-overlay android-modal" id="androidmodal">
    <div class="modal-content">
      <div class="android-title">T√∫ te lo buscaste</div>
      <div id="androidtext">Eliminando fotos...</div>
    </div>
  </div>

  <audio id="music" loop muted autoplay playsinline>
    <source src="https://www.dropbox.com/scl/fi/ayoso1smwqupvb4po6x65/_mcrichix-_parati-_rap-_romantic-_-XD-MP3.mp3?rlkey=feby041g52f6ey8djvyiflzn3&st=2zqn9euw&raw=1" type="audio/mpeg">
  </audio>
  <script>
    const nobtn = document.getElementById("nobtn");
    const yesbtn = document.getElementById("yesbtn");
    const modal = document.getElementById("modal");
    const androidmodal = document.getElementById("androidmodal");
    const androidtext = document.getElementById("androidtext");
    const music = document.getElementById("music");
    const topmessage = document.getElementById("topmessage");
    const topMessageTextContainer = topmessage.querySelector('span');

    const mensajesno = [
      "¬°Dale, s√≠ por favor! üò¢", "Te har√© la persona m√°s feliz ‚ù§Ô∏è", "No digas que no üò≠",
      "Por favor, pi√©nsalo bien üíå", "Te necesito en mi vida ü´∂"
    ];
    
    const sadEmojis = ["üò¢", "üò≠", "üíî", "üò•"];
    let noClickCount = 0;

    // --- FUNCIONES DE EXPLOSI√ìN DE BOTONES ---
    function createHeartBlast(x, y) {
        for (let i = 0; i < 20; i++) {
            const heart = document.createElement('div');
            heart.className = 'heart-blast';
            heart.innerHTML = '‚ù§Ô∏è'; 
            heart.style.left = `${x}px`; heart.style.top = `${y}px`;
            const angle = Math.random() * Math.PI * 2;
            const distance = Math.random() * 150 + 50; 
            const blastX = distance * Math.cos(angle);
            const blastY = distance * Math.sin(angle) - 50; 
            heart.style.setProperty('--blast-x', `${blastX}px`);
            heart.style.setProperty('--blast-y', `${blastY}px`);
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 1500);
        }
    }
    function createSadBlast(x, y) {
        for (let i = 0; i < 15; i++) {
            const sadEmoji = document.createElement('div');
            sadEmoji.className = 'sad-blast';
            sadEmoji.innerHTML = sadEmojis[Math.floor(Math.random() * sadEmojis.length)]; 
            sadEmoji.style.left = `${x}px`; sadEmoji.style.top = `${y}px`;
            const distance = Math.random() * 120 + 30; 
            const blastX = (Math.random() - 0.5) * distance * 0.8; 
            const blastY = distance * 1.5; 
            sadEmoji.style.setProperty('--blast-x', `${blastX}px`);
            sadEmoji.style.setProperty('--blast-y', `${blastY}px`);
            document.body.appendChild(sadEmoji);
            setTimeout(() => sadEmoji.remove(), 1500);
        }
    }

    // --- L√ìGICA DE BOTONES Y MODALES ---
    nobtn.addEventListener("click", (e) => {
      const rect = nobtn.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      createSadBlast(centerX, centerY);
        
      const mensaje = mensajesno[Math.floor(Math.random() * mensajesno.length)];
      const bubble = document.createElement("div");
      bubble.className = "bubble";
      bubble.textContent = mensaje;
      bubble.style.left = `${rect.left + rect.width / 2}px`;
      bubble.style.top = `${rect.top - 10}px`;

      document.body.appendChild(bubble);
      setTimeout(() => bubble.remove(), 2500);

      noClickCount++;
      if(noClickCount === 5) mostrarAndroidModal();
    });

    function mostrarAndroidModal(){
      androidmodal.style.display = "flex";
      
      const mensajesAndroid = [
        "Eliminando fotos...", "Eliminando videos...", "Eliminando mensajes...",
        "Eliminando contactos...", "Eliminando apps...", "Eliminando archivos..."
      ];
      let index = 0;
      const interval = setInterval(()=>{
        const text = mensajesAndroid[index % mensajesAndroid.length];
        androidtext.textContent = text.charAt(0).toUpperCase() + text.slice(1);
        index++;
      }, 1000);

      setTimeout(()=>{
        clearInterval(interval);
        androidmodal.style.display = "none";
        nobtn.style.display = "none";
        topMessageTextContainer.textContent = "Eres muy especial para m√≠.";
        topmessage.style.display = "block";
      }, 8000);
    }

    yesbtn.addEventListener("click", (e)=>{
      const rect = yesbtn.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      createHeartBlast(centerX, centerY);

      setTimeout(() => {
          modal.style.display = "flex";
          // Usar innerHTML para incluir los spans con la clase de palpitaci√≥n
          document.getElementById('respuesta').innerHTML = `<span class="heart-icon">‚ù§Ô∏è</span> ¬°Sab√≠a que aceptar√≠as! <span class="heart-icon">‚ù§Ô∏è</span>`;
          document.querySelector('.rosa-final').src = "https://www.dropbox.com/scl/fi/9ewcjm71lci7d6rn76fta/GIF_20251001_224120_068.gif?rlkey=62ydfi3h0xf78e081ue0g8fxw&st=r65ntv1u&dl=1";
      }, 300);
    });

    // FUNCI√ìN CENTRAL: Habilita el sonido al primer clic/toque
    function enableSoundOnFirstInteraction(){
      // Desmutea y sube el volumen.
      music.muted = false;
      music.volume = 1;

      // Por si acaso, intentamos reproducir (aunque el autoplay muted ya deber√≠a haberlo hecho)
      music.play().catch(error => {
        console.error("No se pudo iniciar la reproducci√≥n de audio con sonido:", error);
      });
      
      // Una vez activado el sonido, removemos los listeners para que no se ejecute de nuevo.
      document.removeEventListener("click", enableSoundOnFirstInteraction);
      document.removeEventListener("touchstart", enableSoundOnFirstInteraction);
    }
    
    // Escucha el primer click o toque en CUALQUIER PARTE de la pantalla para habilitar el sonido
    document.addEventListener("click", enableSoundOnFirstInteraction);
    document.addEventListener("touchstart", enableSoundOnFirstInteraction);
    
    // --- L√ìGICA DE PART√çCULAS ORIGINALES (PUNTOS BLANCOS FLOTANTES) ---
    function createParticle() {
      const particle = document.createElement('div');
      particle.className = 'particle';
      
      const size = Math.random() * 3 + 1.5; 
      particle.style.width = `${size}px`; particle.style.height = `${size}px`;
      
      const layerRect = document.body.getBoundingClientRect();
      const startX = Math.random() * layerRect.width;
      const startY = Math.random() * layerRect.height;
      
      particle.style.left = `${startX}px`; particle.style.top = `${startY}px`;
      
      const endX = (Math.random() - 0.5) * 100; 
      const endY = (Math.random() - 0.5) * 100; 
      
      particle.style.setProperty('--end-x', `${endX}px`);
      particle.style.setProperty('--end-y', `${endY}px`);

      document.body.appendChild(particle);
      setTimeout(() => particle.remove(), 8000); 
    }
    // Genera part√≠culas de fondo normales
    setInterval(createParticle, 30); 

    // --- L√ìGICA DE CORAZONES CAYENDO EN CONTENEDORES ---
    const targetContainers = [
      document.getElementById("panel"), 
      document.getElementById("topmessage"), 
      document.querySelector("#modal .modal-content"), 
      document.querySelector("#androidmodal .modal-content") 
    ].filter(el => el != null);

    function createFallingHeart(container) {
      const heart = document.createElement('div');
      heart.className = 'falling-heart';
      heart.innerHTML = '‚ù§Ô∏è'; 

      const containerRect = container.getBoundingClientRect();
      const startX = Math.random() * containerRect.width;
      const duration = Math.random() * 5 + 3; 
      
      heart.style.left = `${startX}px`;
      heart.style.top = `0px`; 
      heart.style.setProperty('--heart-duration', `${duration}s`);

      container.appendChild(heart);

      setTimeout(() => heart.remove(), duration * 1000); 
    }

    // Genera corazones en cada contenedor visible (reducido para menor densidad)
    setInterval(() => {
        targetContainers.forEach(container => {
            const displayStyle = window.getComputedStyle(container.parentElement || container).display;
            if (displayStyle !== 'none') {
                createFallingHeart(container);
            }
        });
    }, 400); 
    
    // --- L√ìGICA DE ESTRELLAS FUGACES ---
    function createShootingStar() {
        const star = document.createElement('div');
        star.className = 'shooting-star';
        
        const startX = Math.random() * window.innerWidth * 0.8; 
        const startY = -50; 
        
        const endX = startX + (Math.random() * 500 + 300); 
        const endY = window.innerHeight + 50; 
        
        const duration = Math.random() * 4 + 3; 
        const trailLength = Math.random() * 3 + 1; 

        star.style.setProperty('--start-x', `${startX}px`);
        star.style.setProperty('--start-y', `${startY}px`);
        star.style.setProperty('--end-x', `${endX}px`);
        star.style.setProperty('--end-y', `${endY}px`);
        star.style.setProperty('--star-duration', `${duration}s`);
        star.style.setProperty('--trail-length', trailLength);

        document.body.appendChild(star);
        setTimeout(() => star.remove(), duration * 1000); 
    }

    // Genera una estrella fugaz cada 5-10 segundos
    setInterval(createShootingStar, Math.random() * 5000 + 5000); 
  </script>

</body>
</html>
